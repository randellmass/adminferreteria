<div class="row mt-2">
    <div class="col-8">

        <div class="card">
            <div class="card-body">
                <h4 class="card-subtitle">Familia</h4>
                <table class="table table-responsive">
           
                    <tbody *ngIf="familia">
                        <tr>
                            <td scope="row">Nombre:</td>
                            <td>{{ familia['nombre'] }}</td>
                        </tr>
                        <tr>
                            <td scope="row">Estado:</td>
                            <td>{{ familia['estado_nombre'] }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="col-4">
        <form class="d-flex" [formGroup]="form_buscar_equipo" (ngSubmit)="buscar_equipo()">
            <input class="form-control me-2"
                   formControlName="buscarEquipo"
                   type="search" 
                   placeholder="Buscar equipos agregar" aria-label="Search">
            <button class="btn btn-outline-primary"
                    type="submit">Buscar</button>
        </form>

        <form class="mt-4 cmxform" (ngSubmit)="agregar_equipo()" [formGroup]="form_add_equipo" *ngIf="!loading" >
            <fieldset>


                <div class="row">
                              
                    <div class="col-lg-12">
                        <div class="form-group">
                              <label for="">Equipos:</label>
                              <select multiple class="form-control" formControlName="items">
                                <option value="">-> Escoja equipo <-</option>
                                <option *ngFor="let item of equipos_add" [value]="item['id']">{{ item['codificacion']}} - {{ item['nombre']}}</option>
                              </select>
                              <label class="error mt-2 text-danger" 
                                     for="equipo_id" 
                                    *ngIf="campoNoValido('items')">*Debe Escojer equipo.</label>
        
                        </div>
                    </div>

                </div>
            
                <button type="submit" class="btn btn-primary">Agregar</button>
            </fieldset>
        </form>
        <div class="row mt-5" *ngIf="errors.length>0">
            <div class="col-12">
              <div class="alert alert-danger " role="alert">
                 <ul>
                     <li *ngFor="let error of errors" >{{ error }}</li>
                 </ul>
              </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-2">
    <div class="col-12">

        <div class="card">
            <div class="card-body">
                <h4 class="card-subtitle">Equipos</h4>
                
                <table class="table table-bordered table-hover table-responsive">
                    <thead>
                        <tr>
                            <th>Cod.Siesa</th>
                            <th>Descripción Siesa</th>
                            <th>Ref.Siesa</th>
                            <th>Serie</th>
                            <th>Opción</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let equipo of equipos">
                            <td>{{ equipo['codificacion'] | uppercase}}</td>
                            <td>{{ equipo['nombre'] | uppercase}}</td>
                            <td>{{ equipo['modelo'] | uppercase}}</td>
                            <td>{{ equipo['serie'] | uppercase}}</td>
                            <td>
                                <button type="button" class="btn btn-inverse-danger btn-sm" (click)="eliminar_familia_items(familia['id'],equipo)">Eliminar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
       
    </div>
</div>


