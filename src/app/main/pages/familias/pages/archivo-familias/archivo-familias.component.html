<div class="row mt-2">
    <div class="col-8">

        <div class="card">
            <div class="card-body">
                <h4 class="card-subtitle">Familia</h4>
                <table class="table table-responsive">
           
                    <tbody *ngIf="familia">
                        <tr>
                            <td scope="row">Nombre:</td>
                            <td>{{ familia['nombre'] }}</td>
                        </tr>
                        <tr>
                            <td scope="row">Estado:</td>
                            <td>{{ familia['estado_nombre'] }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-body">
                <h4 class="card-subtitle">Listado Archivos</h4>
                <table class="table table-bordered table-inverse table-responsive">
                    <thead class="thead-inverse">
                        <tr>
                            <th>Nombre</th>
                            <th>Permiso Ver</th>
                            <th>Opcion</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let archivo of archivos">
                                <td scope="row"><a [href]="archivo['url']|imagen" target="_blank" >{{ archivo['nombre']}}</a></td>
                                <td>
                                    <div *ngFor="let permiso of archivo['permisos']">
                                        {{ permiso['permiso_nombre']}}
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <a class="btn btn-inverse-danger" (click)="eliminar_archivo(archivo)">Eliminar</a>
                                    </div>
                                </td>
                            </tr>
                
                        </tbody>
                </table>
            </div>
        </div>
   
    </div>

    <div class="col-4">
        <div class="card">
            <div class="card-body">
                <h4 class="card-subtitle">Subir Archivo</h4>

                    <form class="cmxform" (ngSubmit)="agregar_file()" [formGroup]="form_file" *ngIf="!loading" >
                        <fieldset>


                            <div class="row">
                                        
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label for="">Permisos:</label>
                                        <select multiple class="form-control" formControlName="roles">
                                            <option value="" selected>-> Escoja Rol <-</option>
                                            <option [value]="rol['id']" *ngFor="let rol of roles">{{ rol['nombre']}}</option>
                                        </select>
                                        <label class="error mt-2 text-danger" 
                                               for="roles" 
                                               *ngIf="campoNoValido('roles')">*Escoja Permiso</label>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label for="">Nombre Archivo:</label>
                                        <input type="text" 
                                               class="form-control" 
                                               formControlName="nombre">
                                        <label class="error mt-2 text-danger" 
                                            for="nombre" 
                                        *ngIf="campoNoValido('nombre')">*Digite nombre de Archivo</label>
                                    </div>
                                    
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label for="">Archivo:</label>
                                        <input type="file" class="form-control" formControlName="file"
                                                (change)="file_cargar($event.target.files[0])" >
                                        <label class="error mt-2 text-danger" 
                                            for="file" 
                                            *ngIf="campoNoValido('file')">*Escoja Archivo</label>
                                    </div>
                                </div>

                            </div>
                        
                            <button type="submit" class="btn btn-primary">Agregar</button>
                        </fieldset>
                    </form>

            </div>
        </div>

        <div class="row mt-5" *ngIf="errors.length>0">
            <div class="col-12">
              <div class="alert alert-danger " role="alert">
                 <ul>
                     <li *ngFor="let error of errors" >{{ error }}</li>
                 </ul>
              </div>
            </div>
        </div>
    </div>
</div>







